{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "fluid-morph",
  "type": "registry:ui",
  "dependencies": [
    "motion"
  ],
  "files": [
    {
      "path": "ottoui/FluidMorph.tsx",
      "content": "\"use client\"\n\nimport { useEffect, useRef, useState } from \"react\"\nimport { animate } from \"motion/react\"\n\nexport interface FluidMorphProps {\n  paths?: string[]\n  circleCount?: number\n  circleRadius?: number\n  className?: string\n  initialIndex?: number\n  onChange?: (index: number) => void\n}\n\nconst defaultPaths = [\n  \"M128 40L230 215.766H26L128 40Z\",\n  \"M212 132L132 212M196 44L44 196\",\n  \"M45.125 134.46C45.125 148.06 54.6705 159.909 68.1345 161.89C77.374 163.25 86.707 164.295 96.125 165.026V204.5L130.771 169.854C133.121 167.519 136.274 166.172 139.585 166.089C155.747 165.641 171.869 164.239 187.865 161.89C201.329 159.909 210.875 148.069 210.875 134.452V83.2985C210.875 69.6815 201.329 57.841 187.865 55.8605C168.043 52.9511 148.035 51.4937 128 51.5C107.668 51.5 87.676 52.9875 68.1345 55.8605C54.6705 57.841 45.125 69.69 45.125 83.2985V134.452V134.46Z\",\n]\n\nexport default function FluidMorph({\n  paths = defaultPaths,\n  circleCount = 60,\n  circleRadius = 10,\n  className = \"\",\n  initialIndex = 0,\n  onChange,\n}: FluidMorphProps) {\n  const [index, setIndex] = useState(initialIndex)\n  const circles = useRef<(SVGCircleElement | null)[]>([])\n  const svgPaths = useRef<(SVGPathElement | null)[]>([])\n\n  useEffect(() => {\n    const currentPath = svgPaths.current[index]\n    if (currentPath) {\n      const length = currentPath.getTotalLength()\n      const step = length / circleCount\n\n      circles.current.forEach((circle, i) => {\n        if (circle && currentPath) {\n          const { x, y } = currentPath.getPointAtLength(i * step)\n          animate(\n            circle,\n            { cx: x, cy: y },\n            { delay: i * 0.015, ease: \"easeOut\", type: \"spring\" }\n          )\n        }\n      })\n    }\n  }, [index, paths, circleCount])\n\n  const handleSetIndex = (i: number) => {\n    setIndex(i)\n    if (onChange) onChange(i)\n  }\n\n  return (\n    <main\n      className={`flex flex-col items-center justify-center p-4 ${className}`}\n    >\n      <svg\n        viewBox=\"0 0 256 256\"\n        className=\"w-[500px]\"\n        style={{ filter: \"url(#filter)\" }}\n      >\n        <defs>\n          <filter id=\"filter\">\n            <feGaussianBlur stdDeviation=\"12\" result=\"blur-sm\" />\n            <feColorMatrix\n              in=\"blur-sm\"\n              mode=\"matrix\"\n              values=\"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 25 -15\"\n              result=\"filter\"\n            />\n          </filter>\n        </defs>\n        <g>\n          {paths.map((path, i) => (\n            <path\n              className=\"hidden\"\n              key={`p_${i}`}\n              ref={(ref) => {\n                if (ref) svgPaths.current[i] = ref\n              }}\n              d={path}\n            />\n          ))}\n        </g>\n\n        <g>\n          {[...Array(circleCount)].map((_, i) => (\n            <circle\n              className=\"fill-foreground\"\n              key={`c_${i}`}\n              ref={(ref) => {\n                if (ref) circles.current[i] = ref\n              }}\n              cx=\"128\"\n              cy=\"128\"\n              r={circleRadius}\n            />\n          ))}\n        </g>\n      </svg>\n      <div className=\"flex cursor-pointer flex-row gap-4 text-3xl\">\n        {paths.map((_, i) => (\n          <span\n            key={i}\n            className={`bg-background flex h-12 w-12 items-center justify-center rounded-full border text-sm transition disabled:opacity-50 ${\n              i === index\n                ? \"cursor-not-allowed text-amber-500\"\n                : \"text-foreground cursor-pointer\"\n            }`}\n            onClick={() => handleSetIndex(i)}\n          >\n            {i + 1}\n          </span>\n        ))}\n      </div>\n    </main>\n  )\n}\n",
      "type": "registry:ui",
      "target": "components/ottoui/ui/FluidMorph.tsx"
    }
  ]
}