{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "image-metadata-preview",
  "type": "registry:ui",
  "dependencies": [
    "lucide-react",
    "motion"
  ],
  "files": [
    {
      "path": "ottoui/ImageMetadataPreview.tsx",
      "content": "\"use client\"\n\nimport { useState } from \"react\"\nimport { ChevronUp, CircleX, Share } from \"lucide-react\"\nimport { AnimatePresence, motion } from \"motion/react\"\nimport useMeasure from \"react-use-measure\"\n\nexport interface ImageMetadata {\n  created: string\n  updated: string\n  by: string\n  source: string\n}\n\nexport interface ImageMetadataPreviewProps {\n  imageSrc: string\n  alt?: string\n  filename?: string\n  description?: string\n  metadata: ImageMetadata\n  onShare?: () => void\n}\n\nexport default function ImageMetadataPreview({\n  imageSrc,\n  alt = \"Image preview\",\n  filename = \"screenshot.png\",\n  description = \"No description\",\n  metadata,\n  onShare,\n}: ImageMetadataPreviewProps) {\n  const [openInfo, setopenInfo] = useState(false)\n  const [height, setHeight] = useState(\"42px\")\n  const [elementRef, bounds] = useMeasure()\n\n  const handleClickOpen = () => {\n    setHeight(bounds.height.toString())\n    setopenInfo((b) => !b)\n  }\n\n  const handleClickClose = () => {\n    setHeight(\"42px\")\n    setopenInfo((b) => !b)\n  }\n\n  return (\n    <div className=\"absolute bottom-10 flex flex-col items-center justify-center gap-4\">\n      <motion.div\n        animate={{ y: -bounds.height }}\n        className=\"pointer-events-none overflow-hidden rounded-xl\"\n      >\n        <img src={imageSrc} alt={alt} width={300} height={437} />\n      </motion.div>\n\n      <div className=\"relative flex w-full flex-col items-center gap-4\">\n        <div className=\"relative flex w-full flex-row items-center justify-center gap-4\">\n          <button\n            aria-label=\"Share\"\n            className=\"bg-background rounded-full border p-3 transition\"\n            onClick={onShare}\n            disabled={!onShare}\n          >\n            <Share size={16} />\n          </button>\n          <button\n            disabled\n            aria-label=\"Connect\"\n            className=\"bg-background cursor-not-allowed rounded-full border px-4 py-3 text-sm transition disabled:opacity-50\"\n          >\n            Connect\n          </button>\n          <AnimatePresence>\n            {!openInfo ? (\n              <motion.button\n                className=\"bg-background cursor-pointer border p-3 shadow-xs transition\"\n                aria-label=\"Open Metadata Preview\"\n                style={{ borderRadius: 100 }}\n                initial={{ opacity: 0, filter: \"blur(4px)\" }}\n                animate={{ opacity: 1, filter: \"blur(0px)\" }}\n                onClick={handleClickOpen}\n              >\n                <ChevronUp size={16} />\n              </motion.button>\n            ) : null}\n          </AnimatePresence>\n        </div>\n        <AnimatePresence>\n          {openInfo ? (\n            <motion.div\n              className=\"bg-background absolute bottom-0 w-full cursor-pointer gap-4 border p-5 shadow-xs\"\n              style={{ borderRadius: 20 }}\n              initial={{ opacity: 0, filter: \"blur(4px)\" }}\n              animate={{ opacity: 1, filter: \"blur(0px)\" }}\n              transition={{ type: \"spring\", duration: 0.4, bounce: 0 }}\n              onClick={handleClickClose}\n            >\n              <div ref={elementRef} className=\"flex flex-col items-start\">\n                <div className=\"flex w-full flex-row items-start justify-between gap-4\">\n                  <div>\n                    <p className=\"text-foreground\">{filename}</p>\n                    <p className=\"text-primary-foreground\">{description}</p>\n                  </div>\n\n                  <button className=\"cursor-pointer\" aria-label=\"Close Icon\">\n                    <CircleX size={16} />\n                  </button>\n                </div>\n                <table className=\"text-foreground flex w-full flex-col items-center gap-4\">\n                  <tbody className=\"w-full\">\n                    <tr className=\"flex w-full flex-row items-center gap-4\">\n                      <td className=\"w-1/2\">Created</td>\n                      <td className=\"text-primary-foreground w-1/2\">\n                        {metadata.created}\n                      </td>\n                    </tr>\n                    <tr className=\"flex w-full flex-row items-center gap-4\">\n                      <td className=\"w-1/2\">Updated</td>\n                      <td className=\"text-primary-foreground w-1/2\">\n                        {metadata.updated}\n                      </td>\n                    </tr>\n                    <tr className=\"flex w-full flex-row items-center gap-4\">\n                      <td className=\"w-1/2\">By</td>\n                      <td className=\"w-1/2\">{metadata.by}</td>\n                    </tr>\n                    <tr className=\"flex w-full flex-row items-center gap-4\">\n                      <td className=\"w-1/2\">Source</td>\n                      <td className=\"w-1/2 truncate\">{metadata.source}</td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </motion.div>\n          ) : null}\n        </AnimatePresence>\n      </div>\n    </div>\n  )\n}\n",
      "type": "registry:ui",
      "target": "components/ottoui/ui/ImageMetadataPreview.tsx"
    }
  ]
}